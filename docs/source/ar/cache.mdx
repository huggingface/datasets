# ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ

ุนูุฏ ุชูุฒูู ูุฌููุนุฉ ุจูุงูุงุชุ ูุชู ุชุฎุฒูู ุจูุงูุงุช ุงูุจุฑูุงูุฌ ุงููุตู ูููุนุงูุฌุฉ ูุงูุจูุงูุงุช ูุญูููุง ุนูู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจู. ุชุณูุญ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ูู ๐ค Datasets ุจุชุฌูุจ ุฅุนุงุฏุฉ ุชูุฒูู ูุฌููุนุฉ ุงูุจูุงูุงุช ุฃู ูุนุงูุฌุชูุง ูู ูุฑุฉ ุชุณุชุฎุฏููุง ูููุง.

ุณููุถุญ ูุฐุง ุงูุฏููู ููููุฉ:

- ุชุบููุฑ ุฏููู ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ.
- ุงูุชุญูู ูู ููููุฉ ุชุญููู ูุฌููุนุฉ ุงูุจูุงูุงุช ูู ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ.
- ุชูุธูู ูููุงุช ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ูู ุงูุฏููู.
- ุชูููู ุฃู ุชุนุทูู ุงูุชุฎุฒูู ุงููุคูุช.

## ุฏููู ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ

ุฏููู ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ุงูุงูุชุฑุงุถู ูู `~/.cache/huggingface/datasets`. ูุชุบููุฑ ูููุน ุงูุฐุงูุฑุฉ ุงููุคูุชุฉุ ูู ุจุชุนููู ูุชุบูุฑ ุงูุจูุฆุฉ ุงูุฎุงุต ุจู shellุ `HF_DATASETS_CACHE` ุฅูู ุฏููู ุขุฎุฑ:

```
$ export HF_DATASETS_CACHE="/path/to/another/directory"
```

ุนูุฏ ุชุญููู ูุฌููุนุฉ ุจูุงูุงุชุ ูุฏูู ุฃูุถูุง ุฎูุงุฑ ุชุบููุฑ ุงูููุงู ุงูุฐู ูุชู ููู ุชุฎุฒูู ุงูุจูุงูุงุช ูุคูุชูุง. ูู ุจุชุบููุฑ `cache_dir` ุงููุนููุฉ ุฅูู ุงููุณุงุฑ ุงูุฐู ุชุฑูุฏู:

```py
>>> from datasets import load_dataset
>>> dataset = load_dataset('LOADING_SCRIPT', cache_dir="PATH/TO/MY/CACHE/DIR")
```

## ูุถุน ุงูุชูุฒูู

ุจุนุฏ ุชูุฒูู ูุฌููุนุฉ ุจูุงูุงุชุ ููููู ุงูุชุญูู ูู ููููุฉ ุชุญููููุง ุจูุงุณุทุฉ [`load_dataset`] ูุน `download_mode` ุงููุนููุฉ. ุจุดูู ุงูุชุฑุงุถูุ ุณูููู ๐ค Datasets ุจุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ูุฌููุนุฉ ุจูุงูุงุช ุฅุฐุง ูุงูุช ููุฌูุฏุฉ. ูููู ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ูุฌููุนุฉ ุงูุจูุงูุงุช ุงูุฃุตููุฉ ุฏูู ุชุทุจูู ุฃู ูุธุงุฆู ูุนุงูุฌุฉุ ูุฃุนุฏ ุชูุฒูู ุงููููุงุช ููุง ูู ููุถุญ ุฃุฏูุงู:

```py
>>> from datasets import load_dataset
>>> dataset = load_dataset('squad', download_mode='force_redownload')
```

ุฑุงุฌุน [`DownloadMode`] ููุญุตูู ุนูู ูุงุฆูุฉ ูุงููุฉ ุจูุถุนูุงุช ุงูุชูุฒูู.

## ูููุงุช ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช

ูู ุจุชูุธูู ูููุงุช ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูู ุงูุฏููู ุจุงุณุชุฎุฏุงู [`Dataset.cleanup_cache_files`]:

```py
# Returns the number of removed cache files
>>> dataset.cleanup_cache_files()
2
```

## ุชูููู ุฃู ุชุนุทูู ุงูุชุฎุฒูู ุงููุคูุช

ุฅุฐุง ููุช ุชุณุชุฎุฏู ููู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูุญูููุงุ ูุณูุชู ุชููุงุฆููุง ุฅุนุงุฏุฉ ุชุญููู ูุฌููุนุฉ ุงูุจูุงูุงุช ูุน ุฃู ุชุญูููุงุช ุณุงุจูุฉ ููุช ุจุชุทุจูููุง ุนูู ูุฌููุนุฉ ุงูุจูุงูุงุช. ูู ุจุชุนุทูู ูุฐุง ุงูุณููู ุนู ุทุฑูู ุชุนููู ุงูุญุฌุฉ `load_from_cache_file=False` ูู [`Dataset.map`]:

```py
>>> updated_dataset = small_dataset.map(add_prefix, load_from_cache_file=False)
```

ูู ุงููุซุงู ุฃุนูุงูุ ุณูููู ๐ค Datasets ุจุชูููุฐ ุงูุฏุงูุฉ `add_prefix` ุนูู ูุฌููุนุฉ ุงูุจูุงูุงุช ุจุงููุงูู ูุฑุฉ ุฃุฎุฑู ุจุฏูุงู ูู ุชุญููู ูุฌููุนุฉ ุงูุจูุงูุงุช ูู ุญุงูุชูุง ุงูุณุงุจูุฉ.

ูู ุจุชุนุทูู ุงูุชุฎุฒูู ุงููุคูุช ุนูู ูุทุงู ุนุงููู ุจุงุณุชุฎุฏุงู [`disable_caching`]:

```py
>>> from datasets import disable_caching
>>> disable_caching()
```

ุนูุฏูุง ุชููู ุจุชุนุทูู ุงูุชุฎุฒูู ุงููุคูุชุ ูู ูููู ๐ค Datasets ุจุฅุนุงุฏุฉ ุชุญููู ูููุงุช ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุนูุฏ ุชุทุจูู ุงูุชุญูููุงุช ุนูู ูุฌููุนุงุช ุงูุจูุงูุงุช. ูุฌุจ ุฅุนุงุฏุฉ ุชุทุจูู ุฃู ุชุญููู ุชููู ุจุชุทุจููู ุนูู ูุฌููุนุฉ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจู.

<Tip>

ุฅุฐุง ููุช ุชุฑูุฏ ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ูุฌููุนุฉ ุจูุงูุงุช ูู ุงูุตูุฑุ ูุญุงูู ุชุนููู `download_mode` ุงููุนููุฉ ูู [`load_dataset`] ุจุฏูุง ูู ุฐูู.

</Tip>

<a id='load_dataset_enhancing_performance'></a>

## ุชุญุณูู ุงูุฃุฏุงุก

ุณูุคุฏู ุชุนุทูู ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ููุณุฎ ูุฌููุนุฉ ุงูุจูุงูุงุช ูู ุงูุฐุงูุฑุฉ ุฅูู ุชุณุฑูุน ุนูููุงุช ูุฌููุนุฉ ุงูุจูุงูุงุช. ููุงู ุฎูุงุฑุงู ููุณุฎ ูุฌููุนุฉ ุงูุจูุงูุงุช ูู ุงูุฐุงูุฑุฉ:

1. ูู ุจุชุนููู `datasets.config.IN_MEMORY_MAX_SIZE` ุฅูู ูููุฉ ุบูุฑ ุตูุฑูุฉ (ุจุงูุจุงูุช) ูุงูุชู ุชูุงุณุจ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู (RAM).
2. ูู ุจุชุนููู ูุชุบูุฑ ุงูุจูุฆุฉ `HF_DATASETS_IN_MEMORY_MAX_SIZE` ุฅูู ูููุฉ ุบูุฑ ุตูุฑูุฉ. ูุงุญุธ ุฃู ุงูุทุฑููุฉ ุงูุฃููู ููุง ุงูุฃุณุจููุฉ.
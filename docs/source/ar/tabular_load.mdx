# ุชุญููู ุงูุจูุงูุงุช ุงูุฌุฏูููุฉ

ุฅู ูุฌููุนุฉ ุงูุจูุงูุงุช ุงูุฌุฏูููุฉ ูู ูุฌููุนุฉ ุจูุงูุงุช ุนุงูุฉ ุชุณุชุฎุฏู ููุตู ุฃู ุจูุงูุงุช ูุฎุฒูุฉ ูู ุตููู ูุฃุนูุฏุฉุ ุญูุซ ุชูุซู ุงูุตููู ูุซุงูุงู ูุชูุซู ุงูุฃุนูุฏุฉ ุฎุงุตูุฉ (ูููู ุฃู ุชููู ูุณุชูุฑุฉ ุฃู ุชุตููููุฉ). ูุนุงุฏุฉ ูุง ูุชู ุชุฎุฒูู ูุฐู ุงููุฌููุนุงุช ูู ุงูุจูุงูุงุช ูู ูููุงุช CSVุ ุฃู ุฃุทุฑ ุจูุงูุงุช Pandasุ ุฃู ูู ุฌุฏุงูู ููุงุนุฏ ุงูุจูุงูุงุช. ูุณููุถุญ ูุฐุง ุงูุฏููู ูู ููููุฉ ุชุญููู ูุฅูุดุงุก ูุฌููุนุฉ ุจูุงูุงุช ุฌุฏูููุฉ ูู:

- CSV files
- Pandas DataFrames
- Databases

## ูููุงุช CSV

ูููู ูููุชุจุฉ ๐ค Datasets ูุฑุงุกุฉ ูููุงุช CSV ุนู ุทุฑูู ุชุญุฏูุฏ ุงุณู ููุดุฆ ูุฌููุนุฉ ุงูุจูุงูุงุช ุงูุนุงูุฉ "csv" ูู ุทุฑููุฉ ุงูุชุญููู `~datasets.load_dataset`. ููุชุญููู ุฃูุซุฑ ูู ููู CSVุ ูู ุจุชูุฑูุฑูุง ููุงุฆูุฉ ุฅูู ูุณูุท "data_files":

```py
>>> from datasets import load_dataset
>>> dataset = load_dataset("csv", data_files="my_file.csv")

# ุชุญููู ุนุฏุฉ ูููุงุช CSV
>>> dataset = load_dataset("csv", data_files=["my_file_1.csv", "my_file_2.csv", "my_file_3.csv"])
```

ููููู ุฃูุถูุง ุชุนููู ูููุงุช CSV ูุญุฏุฏุฉ ูููุฌููุนุงุช ุงูุชุฏุฑูุจูุฉ ูุงูุงุฎุชุจุงุฑูุฉ:

```py
>>> dataset = load_dataset("csv", data_files={"train": ["my_train_file_1.csv", "my_train_file_2.csv"], "test": "my_test_file.csv"})
```

ูุชุญููู ูููุงุช CSV ุนู ุจุนุฏุ ูู ุจุชูุฑูุฑ ุนูุงููู URL ุจุฏูุงู ูู ุฐูู:

```py
>>> base_url = "https://huggingface.co/datasets/lhoestq/demo1/resolve/main/data/"
>>> dataset = load_dataset('csv', data_files={"train": base_url + "train.csv", "test": base_url + "test.csv"})
```

ูุชุญููู ูููุงุช CSV ูุถุบูุทุฉ:

```py
>>> url = "https://domain.org/train_data.zip"
>>> data_files = {"train": url}
>>> dataset = load_dataset("csv", data_files=data_files)
```

## ุฃุทุฑ ุจูุงูุงุช Pandas

ุชุฏุนู ููุชุจุฉ ๐ค Datasets ุฃูุถูุง ุชุญููู ูุฌููุนุงุช ุงูุจูุงูุงุช ูู [ุฃุทุฑ ุจูุงูุงุช Pandas](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html) ุจุงุณุชุฎุฏุงู ุทุฑููุฉ `~datasets.Dataset.from_pandas`:

```py
>>> from datasets import Dataset
>>> import pandas as pd

# ุฅูุดุงุก ุฅุทุงุฑ ุจูุงูุงุช Pandas
>>> df = pd.read_csv("https://huggingface.co/datasets/imodels/credit-card/raw/main/train.csv")
>>> df = pd.DataFrame(df)
# ุชุญููู ูุฌููุนุฉ ุจูุงูุงุช ูู ุฅุทุงุฑ ุจูุงูุงุช Pandas
>>> dataset = Dataset.from_pandas(df)
```

ุงุณุชุฎุฏู ูุณูุท "splits" ูุชุญุฏูุฏ ุงุณู ูุฌููุนุฉ ุงูุจูุงูุงุช ุงููููุณูุฉ:

```py
>>> train_ds = Dataset.from_pandas(train_df, split="train")
>>> test_ds = Dataset.from_pandas(test_df, split="test")
```

ุฅุฐุง ูู ุชุจุฏู ูุฌููุนุฉ ุงูุจูุงูุงุช ููุง ูู ูุชููุนุ ููุฌุจ ุนููู ุชุญุฏูุฏ ููุฒุงุช ูุฌููุนุฉ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจู ุจุดูู ุตุฑูุญ. ููุฏ ูุง ูุญูู [pandas.Series](https://pandas.pydata.org/docs/reference/api/pandas.Series.html) ุฏุงุฆููุง ูุนูููุงุช ูุงููุฉ ููููู Arrow ุจุงุณุชูุชุงุฌ ููุน ุงูุจูุงูุงุช ุชููุงุฆููุง. ุนูู ุณุจูู ุงููุซุงูุ ุฅุฐุง ูุงู ุฅุทุงุฑ ุงูุจูุงูุงุช ุจุทูู `0` ุฃู ุฅุฐุง ูุงู ุงูุณูุณูุฉ ุชุญุชูู ููุท ุนูู ูุงุฆูุงุช `None/NaN`ุ ูุณูุชู ุชุนููู ุงูููุน ุฅูู `null`.

## ููุงุนุฏ ุงูุจูุงูุงุช

ุชูุฎุฒู ูุฌููุนุงุช ุงูุจูุงูุงุช ูู ููุงุนุฏ ุงูุจูุงูุงุช ุนุงุฏุฉู ุจุงุณุชุฎุฏุงู ุงุณุชุนูุงูุงุช SQL. ุจุงุณุชุฎุฏุงู ููุชุจุฉ ๐ค Datasetsุ ููููู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุจูุงูุงุชุ ูุงูุจุญุซ ุนู ุงูุจูุงูุงุช ุงูุชู ุชุญุชุงุฌูุงุ ูุฅูุดุงุก ูุฌููุนุฉ ุจูุงูุงุช ูููุง. ุจุนุฏ ุฐููุ ููููู ุงุณุชุฎุฏุงู ููุฒุงุช ุงููุนุงูุฌุฉ ูู ููุชุจุฉ ๐ค Datasets ูุฅุนุฏุงุฏ ูุฌููุนุฉ ุงูุจูุงูุงุช ููุชุฏุฑูุจ.

### SQLite

SQLite ูู ูุงุนุฏุฉ ุจูุงูุงุช ุตุบูุฑุฉ ูุฎูููุฉ ุงููุฒู ูุณุฑูุนุฉ ูุณููุฉ ุงูุฅุนุฏุงุฏ. ููููู ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุจูุงูุงุช ููุฌูุฏุฉ ุฅุฐุง ุฃุฑุฏุชุ ุฃู ุงุชุจุงุน ุงูุฅุฑุดุงุฏุงุช ูุงูุจุฏุก ูู ุงูุตูุฑ.

ุงุจุฏุฃ ุจุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช SQLite ุณุฑูุนุฉ ุจุงุณุชุฎุฏุงู [ุจูุงูุงุช Covid-19](https://github.com/nytimes/covid-19-data/blob/master/us-states.csv) ูู ุตุญููุฉ ูููููุฑู ุชุงููุฒ:

```py
>>> import sqlite3
>>> import pandas as pd

>>> conn = sqlite3.connect("us_covid_data.db")
>>> df = pd.read_csv("https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-states.csv")
>>> df.to_sql("states", conn, if_exists="replace")
```

ูุฐุง ููุดุฆ ุฌุฏูู "states" ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช "us_covid_data.db" ุงูุชู ููููู ุงูุขู ุชุญููููุง ูู ูุฌููุนุฉ ุจูุงูุงุช.

ููุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุชุ ุณุชุญุชุงุฌ ุฅูู [ุณูุณูุฉ URI](https://docs.sqlalchemy.org/en/13/core/engines.html#database-urls) ุงูุชู ุชุญุฏุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจู. ููุคุฏู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุจูุงูุงุช ุจุงุณุชุฎุฏุงู URI ุฅูู ุชุฎุฒูู ูุฌููุนุฉ ุงูุจูุงูุงุช ุงูุชู ุชู ุฅุฑุฌุงุนูุง ูุคูุชูุง. ููุฎุชูู ุณูุณูุฉ URI ููู ููุฌุฉ ูุงุนุฏุฉ ุจูุงูุงุชุ ูุฐุง ุชุฃูุฏ ูู ุงูุชุญูู ูู [ุนูุงููู URL ููุงุนุฏุฉ ุงูุจูุงูุงุช](https://docs.sqlalchemy.org/en/13/core/engines.html#database-urls) ูุฃู ูุงุนุฏุฉ ุจูุงูุงุช ุชุณุชุฎุฏููุง.

ุจุงููุณุจุฉ ูู SQLiteุ ูููู ููุง ููู:

```py
>>> uri = "sqlite:///us_covid_data.db"
```

ูู ุจุชุญููู ุงูุฌุฏูู ุนู ุทุฑูู ุชูุฑูุฑ ุงุณู ุงูุฌุฏูู ูURI ุฅูู ุทุฑููุฉ `~datasets.Dataset.from_sql`:

```py
>>> from datasets import Dataset

>>> ds = Dataset.from_sql("states", uri)
>>> ds
Dataset({
features: ['index', 'date', 'state', 'fips', 'cases', 'deaths'],
num_rows: 54382
})
```

ุจุนุฏ ุฐููุ ููููู ุงุณุชุฎุฏุงู ุฌููุน ููุฒุงุช ุงููุนุงูุฌุฉ ูู ููุชุจุฉ ๐ค Datasets ูุซู ุทุฑููุฉ `~datasets.Dataset.filter` ุนูู ุณุจูู ุงููุซุงู:

```py
>>> ds.filter(lambda x: x["state"] == "California")
```

ููููู ุฃูุถูุง ุชุญููู ูุฌููุนุฉ ุจูุงูุงุช ูู ุงุณุชุนูุงู SQL ุจุฏูุงู ูู ุฌุฏูู ูุงููุ ููู ุฃูุฑ ูููุฏ ููุงุณุชุนูุงู ูุงูุงูุถูุงู ุฅูู ุฌุฏุงูู ูุชุนุฏุฏุฉ.

ูู ุจุชุญููู ูุฌููุนุฉ ุงูุจูุงูุงุช ุนู ุทุฑูู ุชูุฑูุฑ ุงุณุชุนูุงูู ูURI ุฅูู ุทุฑููุฉ `~datasets.Dataset.from_sql`:

```py
>>> from datasets import Dataset

>>> ds = Dataset.from_sql('SELECT * FROM states WHERE state="California";', uri)
>>> ds
Dataset({
features: ['index', 'date', 'state', 'fips', 'cases', 'deaths'],
num_rows: 1019
})
```

ุจุนุฏ ุฐููุ ููููู ุงุณุชุฎุฏุงู ุฌููุน ููุฒุงุช ุงููุนุงูุฌุฉ ูู ููุชุจุฉ ๐ค Datasets ูุซู ุทุฑููุฉ `~datasets.Dataset.filter` ุนูู ุณุจูู ุงููุซุงู:

```py
>>> ds.filter(lambda x: x["cases"] > 10000)
```

### PostgreSQL

ููููู ุฃูุถูุง ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL ูุชุญููู ูุฌููุนุฉ ุจูุงูุงุช ูููุงุ ูููููุง ูู ููุถุญ ุฐูู ูุจุงุดุฑุฉ ูู ุงููุซุงุฆู ูุฃู ุงููุซุงู ูุฎุตุต ููุชุดุบูู ูู ุฏูุชุฑ ููุงุญุธุงุช ููุท. ุจุฏูุงู ูู ุฐููุ ุงุทูุน ุนูู ููููุฉ ุชุซุจูุช ูุฅุนุฏุงุฏ ุฎุงุฏู PostgreSQL ูู ูุฐุง [ุฏูุชุฑ ุงูููุงุญุธุงุช](https://colab.research.google.com/github/nateraw/huggingface-hub-examples/blob/main/sql_with_huggingface_datasets.ipynb#scrollTo=d83yGQMPHGFi)!

ุจุนุฏ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL ุงูุฎุงุตุฉ ุจูุ ููููู ุงุณุชุฎุฏุงู ุทุฑููุฉ `~datasets.Dataset.from_sql` ูุชุญููู ูุฌููุนุฉ ุจูุงูุงุช ูู ุฌุฏูู ุฃู ุงุณุชุนูุงู.
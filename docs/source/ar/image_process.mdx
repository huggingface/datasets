# ูุนุงูุฌุฉ ุจูุงูุงุช ุงูุตูุฑ

ููุถุญ ูุฐุง ุงูุฏููู ุทุฑููุง ูุญุฏุฏุฉ ููุนุงูุฌุฉ ูุฌููุนุงุช ุจูุงูุงุช ุงูุตูุฑ. ุชุนูู ููููุฉ:

- ุงุณุชุฎุฏุงู [`~Dataset.map`] ูุน ูุฌููุนุฉ ุจูุงูุงุช ุงูุตูุฑ.
- ุชุทุจูู ุนูููุงุช ุชุนุฒูุฒ ุงูุจูุงูุงุช ุนูู ูุฌููุนุฉ ุจูุงูุงุช ุจุงุณุชุฎุฏุงู [`~Dataset.set_transform`].

ููุงุทูุงุน ุนูู ุฏููู ุญูู ููููุฉ ูุนุงูุฌุฉ ุฃู ููุน ูู ูุฌููุนุงุช ุงูุจูุงูุงุชุ ุฑุงุฌุน <a class="underline decoration-sky-400 decoration-2 font-semibold" href="./process">ุงูุฏููู ุงูุนุงู ูููุนุงูุฌุฉ</a>.

## Map

ูููู ูุฏูุงู [`~Dataset.map`] ุชุทุจูู ุงูุชุญููุงุช ุนูู ูุฌููุนุฉ ุงูุจูุงูุงุช ุจุฃููููุง.

ุนูู ุณุจูู ุงููุซุงูุ ูู ุจุฅูุดุงุก ุฏุงูุฉ [`Resize`](https://pytorch.org/vision/stable/generated/torchvision.transforms.Resize.html) ุฃุณุงุณูุฉ:

```py
>>> def transforms(examples):
...     examples["pixel_values"] = [image.convert("RGB").resize((100, 100)) for image in examples["image"]]
...     return examples
```

ุงูุขูุ ุงุณุชุฎุฏู ุฏุงูุฉ [`~Dataset.map`] ูุฅุนุงุฏุฉ ุชุญุฌูู ูุฌููุนุฉ ุงูุจูุงูุงุช ุจุงููุงููุ ููู ุจุชุนููู `batched=True` ูุชุณุฑูุน ุงูุนูููุฉ ุนู ุทุฑูู ูุจูู ุฏูุนุงุช ูู ุงูุฃูุซูุฉ. ุชููู ุฏุงูุฉ ุงูุชุญูู ุจุฅุฑุฌุงุน `pixel_values` ููุงุฆู `PIL.Image` ูุงุจู ููุชุฎุฒูู ุงููุคูุช:

```py
>>> dataset = dataset.map(transforms, remove_columns=["image"], batched=True)
>>> dataset[0]
{'label': 6,
'pixel_values': <PIL.PngImagePlugin.PngImageFile image mode=RGB size=100x100 at 0x7F058237BB10>}
```

ูููุฑ ููู ุงูุชุฎุฒูู ุงููุคูุช ุงูููุช ูุฃูู ูุณุช ูุถุทุฑูุง ูุชูููุฐ ููุณ ุงูุชุญููู ูุฑุชูู. ูุชุนุฏ ุฏุงูุฉ [`~Dataset.map`] ุงูุฃูุถู ููุนูููุงุช ุงูุชู ูุชู ุชุดุบูููุง ูุฑุฉ ูุงุญุฏุฉ ููุท ููู ุนูููุฉ ุชุฏุฑูุจ - ูุซู ุชุบููุฑ ุญุฌู ุงูุตูุฑุฉ - ุจุฏูุงู ูู ุงุณุชุฎุฏุงููุง ููุนูููุงุช ุงูุชู ูุชู ุชูููุฐูุง ููู ุญูุจุฉุ ูุซู ุชุนุฒูุฒุงุช ุงูุจูุงูุงุช.

ุชุณุชููู [`~Dataset.map`] ุจุนุถ ุงูุฐุงูุฑุฉุ ูููู ููููู ุชูููู ูุชุทูุจุงุช ุงูุฐุงูุฑุฉ ุงูุฎุงุตุฉ ุจูุง ุจุงุณุชุฎุฏุงู ุงููุนููุงุช ุงูุชุงููุฉ:

- [`batch_size`](./package_reference/main_classes#datasets.DatasetDict.map.batch_size) ูุญุฏุฏ ุนุฏุฏ ุงูุฃูุซูุฉ ุงูุชู ุชุชู ูุนุงูุฌุชูุง ูู ููุงููุฉ ูุงุญุฏุฉ ูุฏุงูุฉ ุงูุชุญูู.
- [`writer_batch_size`](./package_reference/main_classes#datasets.DatasetDict.map.writer_batch_size) ูุญุฏุฏ ุนุฏุฏ ุงูุฃูุซูุฉ ุงููุนุงูุฌุฉ ุงูุชู ูุชู ุงูุงุญุชูุงุธ ุจูุง ูู ุงูุฐุงูุฑุฉ ูุจู ุชุฎุฒูููุง.

ุชููู ููู ุงููุนููุงุช ุงูุงูุชุฑุงุถูุฉ ููู ูู 1000ุ ูุงูุชู ูููู ุฃู ุชููู ููููุฉ ุฅุฐุง ููุช ุชููู ุจุชุฎุฒูู ุงูุตูุฑ. ูู ุจุชุฎููุถ ูุฐู ุงูููู ูุงุณุชุฎุฏุงู ุฐุงูุฑุฉ ุฃูู ุนูุฏ ุงุณุชุฎุฏุงู [`~Dataset.map`].

## ุชุทุจูู ุงูุชุญููุงุช

ุชุทุจู ููุชุจุฉ ๐ค Datasets ุนูููุงุช ุชุนุฒูุฒ ุงูุจูุงูุงุช ูู ุฃู ููุชุจุฉ ุฃู ุญุฒูุฉ ุนูู ูุฌููุนุฉ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจู. ูููู ุชุทุจูู ุงูุชุญููุงุช ุฃุซูุงุก ุงูุชููู ุนูู ุฏูุนุงุช ูู ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู [`~Dataset.set_transform`]ุ ูุงูุชู ุชุณุชููู ูุณุงุญุฉ ุฃูู ุนูู ุงููุฑุต.

<Tip>
ูุณุชุฎุฏู ุงููุซุงู ุงูุชุงูู [torchvision](https://pytorch.org/vision/stable/index.html)ุ ูููู ููููู ุงุณุชุฎุฏุงู ููุชุจุงุช ุชุนุฒูุฒ ุจูุงูุงุช ุฃุฎุฑู ูุซู [Albumentations](https://albumentations.ai/docs/)ุ [Kornia](https://kornia.readthedocs.io/en/latest/)ุ ู [imgaug](https://imgaug.readthedocs.io/en/latest/).
</Tip>

ุนูู ุณุจูู ุงููุซุงูุ ุฅุฐุง ููุช ุชุฑูุฏ ุชุบููุฑ ุฎุตุงุฆุต ุงูููู ูุตูุฑุฉ ุจุดูู ุนุดูุงุฆู:

```py
>>> from torchvision.transforms import Compose, ColorJitter, ToTensor

>>> jitter = Compose(
...     [
...          ColorJitter(brightness=0.25, contrast=0.25, saturation=0.25, hue=0.7),
...          ToTensor(),
...     ]
... )
```

ูู ุจุฅูุดุงุก ุฏุงูุฉ ูุชุทุจูู ุชุญููู `ColorJitter`:

```py
>>> def transforms(examples):
...     examples["pixel_values"] = [jitter(image.convert("RGB")) for image in examples["image"]]
...     return examples
```

ุทุจู ุงูุชุญููู ุจุงุณุชุฎุฏุงู ุฏุงูุฉ [`~Dataset.set_transform`]:

```py
>>> dataset.set_transform(transforms)
```